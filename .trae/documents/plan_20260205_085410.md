收到，为了满足**持久化保存大尺寸参考图**的需求，同时保持项目的轻量级和易用性，我将调整技术方案，引入**浏览器原生数据库 (IndexedDB)**。

### 核心技术调整：IndexedDB 存储方案
LocalStorage 确实有 5MB 限制，不适合存图片。我将使用 **IndexedDB** 来解决这个问题：
*   **优势**: 容量通常在 GB 级别（取决于硬盘空间），完全可以存储大量高清参考图。
*   **持久性**: 刷新页面、关闭浏览器后数据依然存在（直到用户手动清除浏览器缓存）。
*   **实现**: 我将使用 `idb-keyval` 库来实现一个本地图片仓库。用户上传的图片将保存为本地数据，前端只存储索引，保证读取速度和体验。

### 详细实施计划

#### 1. 基础设施升级
*   安装 `idb-keyval` 依赖。
*   创建一个 `ImageStorage` 服务，用于存取图片文件。
*   升级 `useAppStore` 或创建新的 `useStoryStore`，支持异步加载资产数据。

#### 2. 资产库 (Asset Library) 开发
*   **数据模型**:
    *   角色/场景：`{ id, name, description, imageKeys[] }`
*   **UI 实现**:
    *   实现侧边栏或抽屉式资产管理器。
    *   支持上传图片 -> 存入 IndexedDB -> 生成预览链接。
    *   展示已保存的资产列表（即使刷新页面也会从 IndexedDB 加载回来）。

#### 3. 分镜工作台 (Storyboard Workbench) 开发
*   **布局**: 按照您的要求，实现“分镜表格”视图。
*   **功能**:
    *   **分镜行**: 包含 `剧情描述`、`角色选择(带缩略图)`、`场景选择(带缩略图)`。
    *   **联动**: 下拉选择时，直接读取资产库数据。

#### 4. 生成逻辑对接
*   在生成时，如果选择了角色/场景，将自动提取其**特征描述**加入 Prompt。
*   (可选) 将选中的参考图作为参数传递给 API (视 API 支持情况而定)。

这个方案无需您安装额外的数据库软件（如 MySQL），也无需配置云存储，开箱即用，且能完美满足“图片持久化保存”的需求。

请确认是否开始执行？